<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="/index.html">
        <img src="./images/docbearlogov4.png" width="50" height="50" alt=""/>
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent1"
            aria-controls="navbarSupportedContent1" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon">
        </span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent1">
        <ul id="menu" class="navbar-nav mr-auto">
            <li class="nav-item"> <a class="nav-link" href="./index.html">Home </a> </li>
            <li class="nav-item"> <a class="nav-link" href="./about.html">About</a> </li>
            <li class="nav-item"> <a class="nav-link" href="./contact.html" >Contact Us </a></li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" id="navbarDropdownLegal" role="button"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Legal Menu </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownLegal">
                    <a class="dropdown-item" href="./privacy.html">Privacy Policy</a>
                    <a class="dropdown-item" href="./terms.html">Terms and Conditions</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Business Menu </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <!-- Add disabled class by default -->
                    <a class="dropdown-item" href="./business-search.html">Search for a Business</a>
                    <a class="dropdown-item disabled" href="./business-add.html">Add a Business</a>
                    <a class="dropdown-item disabled" href="./business-update.html">Update a Business</a>

                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" id="navbarDropdown2" role="button"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Incentives Menu </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <!-- Add disabled class by default -->
                    <a class="dropdown-item" href="./incentive-view.html">View an Incentive for a Business</a>
                    <a class="dropdown-item disabled" href="./incentive-add.html">Add an Incentive for a Business</a>
                    <a class="dropdown-item disabled" href="./incentive-update.html">Update an Incentive for a Business</a>

                </div>
            </li>
            <li class="nav-item dropdown admin-only" style="display: none;">
                <a class="nav-link dropdown-toggle" href="#" id="adminDropdown" role="button"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Admin Menu
                </a>
                <div class="dropdown-menu" aria-labelledby="adminDropdown">
                    <a class="dropdown-item" href="./admin-dashboard.html">Admin Dashboard</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="./admin-users.html">User Management</a>
                    <a class="dropdown-item" href="./admin-business.html">Business Management</a>
                    <a class="dropdown-item" href="./admin-incentives.html">Incentive Management</a>
                    <a class="dropdown-item" href="./chain-management.html">Chain Management</a>
                </div>
            </li>
        </ul>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item dropdown">
                <div class="btn-group">
                    <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                        Sign In
                    </button>
                    <div class="dropdown-menu dropdown-menu-right">
                        <form class="px-4 py-3" id="login-form" onsubmit="handleLogin(); return false;">
                            <div class="form-group">
                                <label for="DropdownFormEmail1">Email address</label>
                                <input type="email" class="form-control" id="DropdownFormEmail1" placeholder="email@example.com">
                            </div>
                            <div class="form-group">
                                <label for="DropdownFormPassword1">Password</label>
                                <input type="password" class="form-control" id="DropdownFormPassword1" placeholder="Password">
                            </div>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="dropdownCheck">
                                <label class="form-check-label" for="dropdownCheck">
                                    Remember me
                                </label>
                            </div>
                            <button type="submit" id="login-button" class="btn btn-primary">Sign in</button>
                        </form>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="./register.html">New around here? Sign up</a>
                        <a class="dropdown-item" href="./forgot-password.html">Forgot password?</a>
                    </div>
                </div>
            </li>
            <!-- User Dropdown - will be shown when logged in -->
            <li class="nav-item dropdown" id="user-dropdown" style="display: none;">
                <div class="btn-group">
                    <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false" id="userDisplayName">
                        User
                    </button>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="./profile.html">My Profile</a>
                        <a class="dropdown-item admin-only" style="display: none;" href="./admin-dashboard.html">Admin Dashboard</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#" id="logout-button">Logout</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <!-- Terms Update Modal -->
<!--    <div class="modal fade" id="termsUpdateModal" tabindex="-1" role="dialog" aria-labelledby="termsUpdateModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">-->
<!--        <div class="modal-dialog modal-lg" role="document">-->
<!--            <div class="modal-content">-->
<!--                <div class="modal-header">-->
<!--                    <h5 class="modal-title" id="termsUpdateModalLabel">Terms of Use Update</h5>-->
<!--                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">-->
<!--                        <span aria-hidden="true">&times;</span>-->
<!--                    </button>-->
<!--                </div>-->
<!--                <div class="modal-body">-->
<!--                    <p>Our Terms of Use have been updated. Please review and accept the new terms to continue using our services.</p>-->
<!--                    <div class="terms-summary" style="max-height: 300px; overflow-y: auto; border: 1px solid #ddd; padding: 15px; margin: 10px 0;">-->
<!--                        <h4>Summary of Changes</h4>-->
<!--                        <p>We have updated our terms to include:</p>-->
<!--                        <ul>-->
<!--                            <li>Clarification on user data handling</li>-->
<!--                            <li>Updated liability provisions</li>-->
<!--                            <li>Modified dispute resolution procedures</li>-->
<!--                        </ul>-->
<!--                        <p>For the full terms, please <a href="terms.html" target="_blank">click here</a>.</p>-->
<!--                    </div>-->
<!--                    <div class="form-check">-->
<!--                        <input class="form-check-input" type="checkbox" id="acceptUpdatedTerms" required>-->
<!--                        <label class="form-check-label" for="acceptUpdatedTerms">-->
<!--                            I have read and agree to the updated <a href="terms.html" target="_blank">Terms of Use</a> and <a href="privacy.html" target="_blank">Privacy Policy</a>-->
<!--                        </label>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="modal-footer">-->
<!--                    <button type="button" class="btn btn-secondary" id="rejectUpdatedTerms">Decline</button>-->
<!--                    <button type="button" class="btn btn-primary" id="confirmUpdatedTerms" disabled>Accept Terms</button>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
</nav>



<!-- Add custom styles for dropdown positioning -->
<style>
    /* Fix dropdown positioning for sign in menu */
    .dropdown-menu-right {
        right: 0;
        left: auto !important;
    }

    /* Add a min-width to prevent the dropdown from being too narrow */
    .navbar-nav .dropdown-menu {
        min-width: 300px;
    }

    /* Ensure the dropdown doesn't exceed viewport width on mobile */
    @media (max-width: 576px) {
        .navbar-nav .dropdown-menu {
            min-width: 100%;
            width: 100%;
        }
    }
</style>