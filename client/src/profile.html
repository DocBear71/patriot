<!DOCTYPE html>
<html lang='en'>
<head>
    <title>Patriot Thanks: My Profile</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="author" content="Edward G. McKeown">
    <meta name="date" content="2025/4/15">
    <meta name="description" content="User profile page for Patriot Thanks.">
    <meta name="keywords" content="profile, account, Patriot Thanks">
    <link href="./images/docbearlogov4.png" rel="icon" type="image/x-icon">
    <link href="./css/bootstrap-4.0.0.css" rel="stylesheet">
    <link href="./css/normalize.css" rel="stylesheet">
    <link href="./css/style.css" rel="stylesheet">
    <link href="./css/forms.css" rel="stylesheet">
    <link href="./css/menu-auth.css" rel="stylesheet">
    <link href="./css/form-validation.css" rel="stylesheet">
    <script src="./js/jquery-3.7.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
    <script src="./js/bootstrap-4.0.0.js"></script>
    <script src="./js/profile-manager.js" type="module"></script>
</head>
<body style="padding-top: 70px" id="page_layout">
<!--Navigation bar-->
<div id="nav-placeholder">
</div>
<script>
    $(function(){
        $("#nav-placeholder").load("NavBar.html", function() {
            console.log("NavBar loaded");
            // Load the login handler after the navbar is loaded
            $.getScript("./js/login-handler.js")
            .done(function() {
                console.log("Login handler script loaded successfully");
            })
            .fail(function() {
                console.error("Failed to load login-handler.js");
            });
        });
    });
</script>
<!--end of Navigation bar-->
<header>
    <br>
    <div class="left-banner">
        <a href="index.html">
            <img src="./images/docbearlogov4.png" alt="DocBear logo">
        </a>
    </div>
    <div class="right-banner">
        <h1>Patriot Thanks</h1>
        <hr>
        <h4>My Profile</h4>
    </div>
    <div style="clear:left;"></div>
</header>
<main>
    <h2>My Profile Information</h2>
    <p class="paragraph_style" id="profile-intro">
        View and update your profile information below. Fields marked with a red outline are required to be filled out.
    </p>
    <div id="not-logged-in" style="display: none;">
        <div class="alert alert-warning">
            <p>You must be logged in to view this page. Please <a href="#" id="login-link">sign in</a> to continue.</p>
        </div>
    </div>
    <div id="profile-container">
        <form id="profile-form" onsubmit="return false;">
            <fieldset>
                <legend>
                    <h3 class="caveat">Personal Information</h3>
                </legend>
                <fieldset>
                    <legend>
                        <h2 class="caveat">Basic Info</h2>
                    </legend>
                    <label for="fname">First Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                    <input type="text" id="fname" name="firstname" placeholder="Your name...">
                    <br>
                    <label for="lname">Last Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                    <input type="text" id="lname" name="lastname" placeholder="Your last name...">
                    <br>
                    <label for="address1">Address Line 1&nbsp;&nbsp;&nbsp;&nbsp;</label>
                    <input type="text" id="address1" name="address1" placeholder="Address Line 1...">
                    <br>
                    <label for="address2">Address Line 2&nbsp;&nbsp;&nbsp;&nbsp;</label>
                    <input type="text" id="address2" name="address2" placeholder="Address Line 2...">
                    <br>
                    <label for="city">City&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                    <input type="text" id="city" name="city" placeholder="Your City is...">
                    <br>
                    <label for="state">U.S. State&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                    <select name="state" id="state">
                        <option value="" selected="selected">Select a State</option>
                        <option value="AL">Alabama</option>
                        <option value="AK">Alaska</option>
                        <option value="AZ">Arizona</option>
                        <option value="AR">Arkansas</option>
                        <option value="CA">California</option>
                        <option value="CO">Colorado</option>
                        <option value="CT">Connecticut</option>
                        <option value="DE">Delaware</option>
                        <option value="DC">District Of Columbia</option>
                        <option value="FL">Florida</option>
                        <option value="GA">Georgia</option>
                        <option value="HI">Hawaii</option>
                        <option value="ID">Idaho</option>
                        <option value="IL">Illinois</option>
                        <option value="IN">Indiana</option>
                        <option value="IA">Iowa</option>
                        <option value="KS">Kansas</option>
                        <option value="KY">Kentucky</option>
                        <option value="LA">Louisiana</option>
                        <option value="ME">Maine</option>
                        <option value="MD">Maryland</option>
                        <option value="MA">Massachusetts</option>
                        <option value="MI">Michigan</option>
                        <option value="MN">Minnesota</option>
                        <option value="MS">Mississippi</option>
                        <option value="MO">Missouri</option>
                        <option value="MT">Montana</option>
                        <option value="NE">Nebraska</option>
                        <option value="NV">Nevada</option>
                        <option value="NH">New Hampshire</option>
                        <option value="NJ">New Jersey</option>
                        <option value="NM">New Mexico</option>
                        <option value="NY">New York</option>
                        <option value="NC">North Carolina</option>
                        <option value="ND">North Dakota</option>
                        <option value="OH">Ohio</option>
                        <option value="OK">Oklahoma</option>
                        <option value="OR">Oregon</option>
                        <option value="PA">Pennsylvania</option>
                        <option value="RI">Rhode Island</option>
                        <option value="SC">South Carolina</option>
                        <option value="SD">South Dakota</option>
                        <option value="TN">Tennessee</option>
                        <option value="TX">Texas</option>
                        <option value="UT">Utah</option>
                        <option value="VT">Vermont</option>
                        <option value="VA">Virginia</option>
                        <option value="WA">Washington</option>
                        <option value="WV">West Virginia</option>
                        <option value="WI">Wisconsin</option>
                        <option value="WY">Wyoming</option>
                    </select>
                    <br>
                    <label for="zip">Zip Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                    <input type="text" id="zip" name="zip" placeholder="Your Zip Code...">
                    <br>
                    <label for="status">Status&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                    <select name="status" id="status" >
                        <option value="" selected="selected">Select a Status</option>
                        <option value="VT">Veteran</option>
                        <option value="AD">Active Duty</option>
                        <option value="FR">First Responder</option>
                        <option value="SP">Spouse</option>
                        <option value="BO">Business Owner</option>
                        <option value="SU">Supporter</option>
                    </select>
                    <br>
                    <label for="membership-level">Access Level&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                    <select name="membership-level" id="membership-level">
                        <option value="" selected="selected">Select a Membership Level</option>
                        <option value="Free">Free</option>
                        <option value="Basic">Basic</option>
                        <option value="Premium">Premium</option>
                        <option value="VIP">V.I.P.</option>
                        <option value="Admin" data-restricted="true">Admin</option>
                        <option value="Test" disabled title="Only used during testing procedures">Test User</option>
                    </select>
                </fieldset>
                <br>
                <fieldset>
                    <legend>
                        <h2 class="caveat">Account Information</h2>
                    </legend>
                    <label for="email">E-mail Address&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                    <input type="email" id="email" name="email" placeholder="address@company.com" readonly>
                    <p class="note">Email address cannot be changed as it is used for login.</p>
                    <br>
                    <div class="form-group">
                        <button type="button" class="btn btn-secondary" id="change-password-btn">Change Password</button>
                    </div>
                </fieldset>
                <br>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary" id="update-profile-btn">Update Profile</button>
                    <button type="button" class="btn btn-secondary" id="cancel-btn">Cancel</button>
                </div>
            </fieldset>
        </form>

        <!-- Password Change Modal -->
        <div class="modal" id="passwordModal" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Change Password</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form id="password-form">
                            <div class="form-group">
                                <label for="current-password">Current Password</label>
                                <input type="password" class="form-control" id="current-password" required>
                            </div>
                            <div class="form-group">
                                <label for="new-password">New Password</label>
                                <input type="password" class="form-control" id="new-password" required>
                            </div>
                            <div class="form-group">
                                <label for="confirm-new-password">Confirm New Password</label>
                                <input type="password" class="form-control" id="confirm-new-password" required>
                            </div>
                            <div id="password-message" class="mt-3">
                                <h6>Password must contain the following:</h6>
                                <p id="pwd-letter" class="invalid">A lowercase letter</p>
                                <p id="pwd-capital" class="invalid">A capital letter</p>
                                <p id="pwd-number" class="invalid">A number</p>
                                <p id="pwd-length" class="invalid">Minimum 8 characters</p>
                                <p id="pwd-special" class="invalid">A special character (!@#$%^&*)</p>
                                <p id="pwd-match" class="invalid">Passwords match</p>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" id="save-password-btn">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<footer class = "footer_style"><br>
    <p>&copy; Copyright 2024 Doc Bear Enterprises, LLC</p>
</footer>

<!-- Additional scripts -->
<script src="./js/login-handler.js"></script>
</body>
</html>