document.addEventListener("DOMContentLoaded",(function(){let e=0,t="paypal";const n=document.querySelectorAll(".donation-btn"),a=document.getElementById("custom-amount"),o=document.getElementById("donation-form"),c=document.getElementById("donate-btn"),i=document.getElementById("payment-paypal"),d=document.getElementById("payment-card"),s=document.getElementById("card-payment-form");function r(t){n.forEach((e=>{e.classList.remove("active","btn-primary"),e.classList.add("btn-outline-primary")})),t.classList.add("active","btn-primary"),t.classList.remove("btn-outline-primary"),e=parseFloat(t.getAttribute("data-amount")),m()}function l(){d.checked?(t="card",s.style.display="block"):(t="paypal",s.style.display="none")}function m(){c.textContent=e>0?`Donate $${e.toFixed(2)}`:"Complete Donation"}n.length>0&&r(n[0]),console.log("PayPal SDK initialized"),n.forEach((e=>{e.addEventListener("click",(function(){r(this),a.value=""}))})),a.addEventListener("input",(function(){const t=parseFloat(this.value);t>0?(n.forEach((e=>e.classList.remove("active","btn-primary"))),n.forEach((e=>e.classList.add("btn-outline-primary"))),e=t,m()):""===this.value&&n.length>0&&r(n[0])})),i.addEventListener("change",l),d.addEventListener("change",l),o.addEventListener("submit",(function(n){if(n.preventDefault(),e<=0&&(a.value&&(e=parseFloat(a.value)),e<=0))return void alert("Please select or enter a valid donation amount.");const o={amount:e,name:document.getElementById("donor-name").value,email:document.getElementById("donor-email").value,anonymous:document.getElementById("anonymous-donation").checked,recurring:document.getElementById("recurring-donation").checked,message:document.getElementById("donor-message").value,paymentMethod:t};"card"!==t||(o.card={name:document.getElementById("card-name").value,number:document.getElementById("card-number").value,expiry:document.getElementById("card-expiry").value,cvc:document.getElementById("card-cvc").value},o.card.name&&o.card.number&&o.card.expiry&&o.card.cvc)?o.name&&o.email?(console.log("Processing donation:",o),c.textContent="Processing...",c.disabled=!0,setTimeout((function(){!function(e){document.querySelector("main .row").innerHTML=`\n            <div class="col-lg-8 mx-auto">\n                <div class="card shadow border-success">\n                    <div class="card-header bg-success text-white">\n                        <h2 class="mb-0">Thank You for Your Support!</h2>\n                    </div>\n                    <div class="card-body text-center">\n                        <i class="bi bi-check-circle-fill text-success" style="font-size: 4rem;"></i>\n                        <h3 class="mt-4">Your donation of $${e.amount.toFixed(2)} has been received</h3>\n                        <p class="lead">Your support helps us continue connecting heroes with businesses that appreciate their service.</p>\n                        \n                        <div class="mt-4 mb-4">\n                            <p>A confirmation email has been sent to: <strong>${e.email}</strong></p>\n                            ${e.recurring?"<p><strong>Your donation will recur monthly.</strong> You can cancel at any time by contacting us.</p>":""}\n                        </div>\n                        \n                        <div class="mt-4">\n                            <a href="index.html" class="btn btn-primary me-2">Return to Home</a>\n                            <a href="contact.html" class="btn btn-outline-primary">Contact Us</a>\n                        </div>\n                    </div>\n                </div>\n                \n                <div class="text-center mt-4">\n                    <p>Problem with your donation? Please <a href="contact.html">contact us</a> for assistance.</p>\n                </div>\n            </div>\n        `,console.log("Donation completed successfully")}(o)}),2e3)):alert("Please provide your name and email."):alert("Please fill in all credit card details.")}))}));