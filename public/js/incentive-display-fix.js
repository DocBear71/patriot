document.addEventListener("DOMContentLoaded",(function(){function e(){document.querySelectorAll(".select-incentive").forEach((e=>{e.addEventListener("click",(function(){const e=this.getAttribute("data-incentive-id");console.log("Button clicked for incentive:",e);const t=document.getElementById("incentive-edit-section");t?(console.log("Before setting display - current style:",t.style.display),t.style.display="block",t.removeAttribute("style"),t.setAttribute("style","display: block !important"),t.classList.add("force-display"),setTimeout((()=>{t.style.display="block",console.log("After delay - style is now:",t.style.display)}),10),console.log("After setting display - current style:",t.style.display),setTimeout((()=>{t.scrollIntoView({behavior:"smooth"})}),50)):console.error("Could not find incentive-edit-section element")}))}))}console.log("Display fix script loaded");const t=document.createElement("style");t.textContent="\n        .force-display {\n            display: block !important;\n        }\n    ",document.head.appendChild(t);const n=new MutationObserver((function(t){t.forEach((function(t){"childList"===t.type&&t.addedNodes.length>0&&document.querySelectorAll(".select-incentive").length>0&&(console.log("New incentive buttons detected, adding event listeners"),e())}))})),o=document.getElementById("incentives-table-container");o&&n.observe(o,{childList:!0,subtree:!0});const i=window.loadIncentiveForEditing;window.loadIncentiveForEditing=function(e){console.log("Enhanced loadIncentiveForEditing called for:",e);const t=document.getElementById("incentive-edit-section");if(t&&(t.removeAttribute("style"),t.style.display="block",t.setAttribute("style","display: block !important"),t.classList.add("force-display"),console.log("Enhanced display setting applied:",t.style.display)),"function"==typeof i&&i(e),e){const t=document.getElementById("incentiveAvailable"),n=document.getElementById("incentiveNotAvailable");t&&n&&(e.is_available?(t.checked=!0,n.checked=!1):(t.checked=!1,n.checked=!0));const o=document.getElementById("incentiveType");if(o)for(let t=0;t<o.options.length;t++)if(o.options[t].value===e.type){o.selectedIndex=t;break}const i=document.getElementById("otherTypeContainer");if(i)if("OT"===e.type){i.style.display="block";const t=document.getElementById("otherTypeDescription");t&&(t.value=e.other_description||"")}else i.style.display="none";const l=document.getElementById("incentiveAmount");l&&(l.value=e.amount||0);const c=document.getElementById("incentiveInfo");c&&(c.value=e.information||"")}setTimeout((()=>{t&&t.scrollIntoView({behavior:"smooth"})}),100)};const l=window.displayIncentives;window.displayIncentives=function(t){"function"==typeof l&&l(t),setTimeout((()=>{e()}),200)}}));