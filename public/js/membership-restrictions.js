document.addEventListener("DOMContentLoaded",(function(){function e(){return JSON.parse(localStorage.getItem("userData")||"{}").level||"Free"}function t(e){return{"advanced-search":"Basic","business-analytics":"Premium","export-data":"Premium","saved-searches":"Basic","map-view":"Basic",favorites:"Free","business-submit":"Free","detailed-view":"Basic","filter-options":"Basic"}[e]||!1}function n(e,n){const r=t(e),s=document.createElement("div");s.className="premium-feature-message",s.innerHTML=`\n            <div class="premium-message-content">\n                <h4>Premium Feature</h4>\n                <p>This ${n||"feature"} requires a ${r} membership.</p>\n                <p>We're currently working on implementing premium memberships. For now, you can support us through donations!</p>\n                <div class="premium-buttons">\n                    <a href="donate.html" class="btn btn-primary">Support Us</a>\n                    <button class="btn btn-secondary close-premium-message">Close</button>\n                </div>\n            </div>\n        `,s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.right="0",s.style.bottom="0",s.style.backgroundColor="rgba(0, 0, 0, 0.7)",s.style.zIndex="9999",s.style.display="flex",s.style.alignItems="center",s.style.justifyContent="center";const a=s.querySelector(".premium-message-content");a.style.backgroundColor="#fff",a.style.padding="20px",a.style.borderRadius="5px",a.style.maxWidth="400px",a.style.textAlign="center",document.body.appendChild(s),s.querySelector(".close-premium-message").addEventListener("click",(function(){s.remove()}))}document.querySelectorAll("[data-premium-feature]").forEach((e=>{const t=e.getAttribute("data-premium-feature"),r=e.getAttribute("data-feature-name")||"feature";e.addEventListener("click",(function(e){e.preventDefault(),n(t,r)}))})),document.querySelectorAll(".nav-item[data-premium-feature]").forEach((e=>{const t=document.createElement("span");t.className="badge bg-warning text-dark ms-2",t.textContent="Coming Soon";const n=e.querySelector(".nav-link");n&&n.appendChild(t)})),window.premiumFeatures={isLoggedIn:function(){return null!==localStorage.getItem("userToken")},getUserLevel:e,hasAccessToFeature:function(n){if(!t(n))return!0;const r=e(),s=t(n),a=["Free","Basic","Premium","VIP","Admin"];return a.indexOf(r)>=a.indexOf(s)},showPremiumFeatureMessage:n}}));