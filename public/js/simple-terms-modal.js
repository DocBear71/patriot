!function(){console.log("Simple Terms Modal System loaded");const e=window.location.pathname.toLowerCase();if(e.includes("terms")||e.includes("privacy"))return console.log("On terms/privacy page - disabling terms modal"),window.checkTermsVersion=function(){console.log("Terms check disabled on terms/privacy pages")},window.updateTermsAcceptance=function(){console.log("Terms acceptance disabled on terms/privacy pages")},void(void 0===window.SimpleTermsModal&&(window.SimpleTermsModal={show:function(){console.log("Modal disabled on terms pages")},hide:function(){console.log("Modal disabled on terms pages")},check:function(){console.log("Modal disabled on terms pages")}}));const t="May 14, 2025";function o(){!function(){if(document.getElementById("simpleTermsModal"))return;const e=document.createElement("div");e.innerHTML='\n    <div id="simpleTermsModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 9999; overflow: auto;">\n      <div style="background-color: white; border-radius: 8px; padding: 20px; width: 90%; max-width: 600px; margin: 50px auto; max-height: 80vh; overflow-y: auto; box-shadow: 0 4px 15px rgba(0,0,0,0.3);">\n        <h2 style="margin-top: 0;">Terms of Use Update</h2>\n        <p>Our Terms of Use have been updated. Please review and accept the new terms to continue using our services.</p>\n        \n        <div style="text-align: center; margin: 15px 0;">\n          <a href="/terms.html" target="_blank" style="display: inline-block; background-color: #007bff; color: white; padding: 8px 16px; margin: 0 5px; text-decoration: none; border-radius: 4px;">Read Full Terms</a>\n          <a href="/privacy.html" target="_blank" style="display: inline-block; background-color: #007bff; color: white; padding: 8px 16px; margin: 0 5px; text-decoration: none; border-radius: 4px;">Read Privacy Policy</a>\n        </div>\n        \n        <div id="simpleTermsSummary" style="max-height: 300px; overflow-y: auto; border: 1px solid #ddd; padding: 15px; margin: 15px 0; background-color: #f9f9f9;">\n          <h3>Summary of Key Terms</h3>\n          <p><strong>Effective Date:</strong> May 14, 2025</p>\n          \n          <h4 style="margin-top: 15px;">1. ACCEPTANCE OF TERMS</h4>\n          <p>By accessing or using Patriot Thanks, you agree to be bound by these Terms of Use. If you do not agree to these terms, you must discontinue use immediately.</p>\n          \n          <h4 style="margin-top: 15px;">2. INTELLECTUAL PROPERTY RIGHTS</h4>\n          <p>All content, features, and functionality on Patriot Thanks are owned by Doc Bear Enterprises, LLC and are protected by copyright, trademark, and other intellectual property laws.</p>\n          \n          <h4 style="margin-top: 15px;">3. USER RESPONSIBILITIES</h4>\n          <p>Users are responsible for maintaining the confidentiality of their account information and for all activities that occur under their account.</p>\n          \n          <h4 style="margin-top: 15px;">4. DATA COLLECTION AND PRIVACY</h4>\n          <p>We collect certain personal information to provide our services. Your use of Patriot Thanks is also governed by our Privacy Policy.</p>\n          \n          <h4 style="margin-top: 15px;">5. LIMITATION OF LIABILITY</h4>\n          <p>Patriot Thanks and its owners will not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of the service.</p>\n          \n          <h4 style="margin-top: 15px;">6. DISPUTE RESOLUTION</h4>\n          <p>Any disputes arising from your use of the service will be governed by the laws of Iowa.</p>\n          \n          <h4 style="margin-top: 15px;">7. MODIFICATION OF TERMS</h4>\n          <p>We reserve the right to modify these terms at any time. Continued use of Patriot Thanks after such modifications constitutes acceptance of the updated terms.</p>\n          \n          <div id="termsScrollTarget">\n            <p>Thank you for reviewing our Terms of Use summary. Please check the box below to indicate your acceptance.</p>\n          </div>\n        </div>\n        \n        <div id="scrollMessageSimple" style="display: none; color: green; margin: 10px 0; text-align: center;">\n          <span style="margin-right: 5px;">âœ“</span> You\'ve reviewed the terms. Please check the box below to confirm your acceptance.\n        </div>\n        \n        <div style="margin: 15px 0;">\n          <label style="display: flex; align-items: center; cursor: pointer;">\n            <input type="checkbox" id="acceptTermsCheckbox" disabled style="margin-right: 10px;"> \n            I have read and agree to the updated <a href="/terms.html" target="_blank" style="margin: 0 5px;">Terms of Use</a> and <a href="/privacy.html" target="_blank" style="margin: 0 5px;">Privacy Policy</a>\n          </label>\n        </div>\n        \n        <div style="display: flex; margin-top: 20px; justify-content: space-between;">\n          <button id="declineTermsBtn" style="background-color: #dc3545; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer;">Decline</button>\n          <button id="acceptTermsBtn" style="background-color: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer;" disabled>Accept Terms</button>\n        </div>\n      </div>\n    </div>\n    ',document.body.appendChild(e.firstElementChild),document.getElementById("simpleTermsModal");const t=document.getElementById("simpleTermsSummary"),o=document.getElementById("acceptTermsCheckbox"),i=document.getElementById("acceptTermsBtn"),s=document.getElementById("declineTermsBtn"),a=document.getElementById("scrollMessageSimple");let c=!1;t.addEventListener("scroll",(function(){t.scrollTop+t.clientHeight>=t.scrollHeight-30&&(c=!0,o.disabled=!1,a.style.display="block")})),o.addEventListener("change",(function(){i.disabled=!this.checked})),i.addEventListener("click",(function(){r(),n()})),s.addEventListener("click",(function(){confirm("If you do not accept the updated terms, you will be logged out and unable to use the service. Continue?")&&(localStorage.removeItem("patriotThanksSession"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userEmail"),location.reload(),n())}))}();const e=document.getElementById("simpleTermsModal");e&&(e.style.display="block",document.body.style.overflow="hidden")}function n(){const e=document.getElementById("simpleTermsModal");e&&(e.style.display="none",document.body.style.overflow="")}function r(){const e=localStorage.getItem("patriotThanksSession");if(e)try{const o=JSON.parse(e);o.user.termsAccepted=!0,o.user.termsAcceptedDate=(new Date).toISOString(),o.user.termsVersion=t,localStorage.setItem("patriotThanksSession",JSON.stringify(o)),console.log("Terms accepted locally");const n="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?`http://${window.location.host}`:window.location.origin;fetch(`${n}/api/auth.js?operation=update-terms-acceptance`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o.token},body:JSON.stringify({userId:o.user._id,termsAccepted:!0,termsAcceptedDate:(new Date).toISOString(),termsVersion:t})}).then((e=>e.json())).then((e=>{console.log("Terms acceptance updated on server")})).catch((e=>{console.error("Error updating terms on server:",e)}))}catch(e){console.error("Error parsing session:",e)}else console.error("No session found")}function i(){const e=localStorage.getItem("patriotThanksSession");if(e)try{const n=JSON.parse(e);n.user&&n.user.termsAccepted&&n.user.termsVersion===t||(console.log("User needs to accept terms"),o())}catch(e){console.error("Error checking terms acceptance:",e)}}setTimeout(i,1e3),window.SimpleTermsModal={show:o,hide:n,check:i,accept:r}}();