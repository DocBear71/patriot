document.addEventListener("DOMContentLoaded",(function(){console.log("Contact form handler loaded!");const e=document.getElementById("contact-form");e&&e.addEventListener("submit",(function(t){t.preventDefault();const n={firstname:document.getElementById("fname").value,lastname:document.getElementById("lname").value,email:document.getElementById("email").value,subject:document.getElementById("subject").value,message:document.getElementById("message").value},o=e.querySelector('button[type="submit"]')||e.querySelector('input[type="submit"]'),s=o?o.innerText||o.value:"Submit";o&&(o.disabled=!0,"INPUT"===o.tagName?o.value="Sending...":o.innerText="Sending..."),function(e,t,n){console.log("Submitting contact form:",e);const o=window.location.origin;fetch(`${o}/api/contact.js`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then((e=>(console.log("Response status:",e.status),e.ok?e.json():e.text().then((t=>{throw new Error(`Server responded with status ${e.status}: ${t}`)}))))).then((t=>{console.log("Message sent successfully:",t),sessionStorage.setItem("contactFormData",JSON.stringify(e)),window.location.href="thank-you.html"})).catch((e=>{console.error("Error sending message:",e),alert(`Error sending message: ${e.message}`)})).finally((()=>{t&&(t.disabled=!1,"INPUT"===t.tagName?t.value=n:t.innerText=n)}))}(n,o,s)}))}));